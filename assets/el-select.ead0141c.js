import{au as Hl,aN as fl,aO as Nl,aq as pl,an as vl,aP as Gl,aK as Ql,aJ as Dl,aQ as kl,B as Ee,C as O,ah as Ie,aR as q,w as F,u as ol,ab as al,d as Pe,D as re,a as $e,a2 as rl,aS as Ul,x as P,_ as Me,W as ge,aF as sl,b as w,c as M,I as ae,g as B,t as Y,n as T,Z,r as W,o as ul,aC as Bl,J as oe,aT as dl,ax as gl,a0 as jl,T as Jl,a3 as Zl,aU as pe,aV as ll,H as ml,U as x,aW as Xl,S as Rl,aX as Yl,m as xl,E as _l,aY as en,aH as ln,aZ as nn,M as Vl,a_ as te,a$ as tn,e as ve,f as A,k as K,F as nl,j as bl,N as R,aM as on,a9 as V,b0 as an,b1 as rn,K as hl,L as sn,a4 as ql}from"./index.0dffe206.js";import{U as yl,g as Cl,a as Sl,i as Ol,S as tl,b as un,c as dn,E as cn}from"./el-input.615257d7.js";import{E as fn,t as pn}from"./el-tag.a64800be.js";import{d as wl,s as vn}from"./scroll.39dbf528.js";var gn="__lodash_hash_undefined__";function mn(e){return this.__data__.set(e,gn),this}function bn(e){return this.__data__.has(e)}function Ae(e){var l=-1,t=e==null?0:e.length;for(this.__data__=new Hl;++l<t;)this.add(e[l])}Ae.prototype.add=Ae.prototype.push=mn;Ae.prototype.has=bn;function hn(e,l){for(var t=-1,s=e==null?0:e.length;++t<s;)if(l(e[t],t,e))return!0;return!1}function yn(e,l){return e.has(l)}var Cn=1,Sn=2;function Fl(e,l,t,s,c,a){var r=t&Cn,u=e.length,m=l.length;if(u!=m&&!(r&&m>u))return!1;var b=a.get(e),f=a.get(l);if(b&&f)return b==l&&f==e;var y=-1,g=!0,C=t&Sn?new Ae:void 0;for(a.set(e,l),a.set(l,e);++y<u;){var o=e[y],p=l[y];if(s)var h=r?s(p,o,y,l,e,a):s(o,p,y,e,l,a);if(h!==void 0){if(h)continue;g=!1;break}if(C){if(!hn(l,function(S,L){if(!yn(C,L)&&(o===S||c(o,S,t,s,a)))return C.push(L)})){g=!1;break}}else if(!(o===p||c(o,p,t,s,a))){g=!1;break}}return a.delete(e),a.delete(l),g}function On(e){var l=-1,t=Array(e.size);return e.forEach(function(s,c){t[++l]=[c,s]}),t}function wn(e){var l=-1,t=Array(e.size);return e.forEach(function(s){t[++l]=s}),t}var Tn=1,Ln=2,En="[object Boolean]",In="[object Date]",An="[object Error]",Pn="[object Map]",$n="[object Number]",Mn="[object RegExp]",Dn="[object Set]",Bn="[object String]",Rn="[object Symbol]",Vn="[object ArrayBuffer]",qn="[object DataView]",Tl=fl?fl.prototype:void 0,il=Tl?Tl.valueOf:void 0;function Fn(e,l,t,s,c,a,r){switch(t){case qn:if(e.byteLength!=l.byteLength||e.byteOffset!=l.byteOffset)return!1;e=e.buffer,l=l.buffer;case Vn:return!(e.byteLength!=l.byteLength||!a(new yl(e),new yl(l)));case En:case In:case $n:return Nl(+e,+l);case An:return e.name==l.name&&e.message==l.message;case Mn:case Bn:return e==l+"";case Pn:var u=On;case Dn:var m=s&Tn;if(u||(u=wn),e.size!=l.size&&!m)return!1;var b=r.get(e);if(b)return b==l;s|=Ln,r.set(e,l);var f=Fl(u(e),u(l),s,c,a,r);return r.delete(e),f;case Rn:if(il)return il.call(e)==il.call(l)}return!1}var zn=1,Kn=Object.prototype,Wn=Kn.hasOwnProperty;function Hn(e,l,t,s,c,a){var r=t&zn,u=Cl(e),m=u.length,b=Cl(l),f=b.length;if(m!=f&&!r)return!1;for(var y=m;y--;){var g=u[y];if(!(r?g in l:Wn.call(l,g)))return!1}var C=a.get(e),o=a.get(l);if(C&&o)return C==l&&o==e;var p=!0;a.set(e,l),a.set(l,e);for(var h=r;++y<m;){g=u[y];var S=e[g],L=l[g];if(s)var G=r?s(L,S,g,l,e,a):s(S,L,g,e,l,a);if(!(G===void 0?S===L||c(S,L,t,s,a):G)){p=!1;break}h||(h=g=="constructor")}if(p&&!h){var Q=e.constructor,H=l.constructor;Q!=H&&"constructor"in e&&"constructor"in l&&!(typeof Q=="function"&&Q instanceof Q&&typeof H=="function"&&H instanceof H)&&(p=!1)}return a.delete(e),a.delete(l),p}var Nn=1,Ll="[object Arguments]",El="[object Array]",Le="[object Object]",Gn=Object.prototype,Il=Gn.hasOwnProperty;function Qn(e,l,t,s,c,a){var r=pl(e),u=pl(l),m=r?El:Sl(e),b=u?El:Sl(l);m=m==Ll?Le:m,b=b==Ll?Le:b;var f=m==Le,y=b==Le,g=m==b;if(g&&Ol(e)){if(!Ol(l))return!1;r=!0,f=!1}if(g&&!f)return a||(a=new tl),r||un(e)?Fl(e,l,t,s,c,a):Fn(e,l,m,t,s,c,a);if(!(t&Nn)){var C=f&&Il.call(e,"__wrapped__"),o=y&&Il.call(l,"__wrapped__");if(C||o){var p=C?e.value():e,h=o?l.value():l;return a||(a=new tl),c(p,h,t,s,a)}}return g?(a||(a=new tl),Hn(e,l,t,s,c,a)):!1}function zl(e,l,t,s,c){return e===l?!0:e==null||l==null||!vl(e)&&!vl(l)?e!==e&&l!==l:Qn(e,l,t,s,zl,c)}function Al(e,l){return zl(e,l)}const kn=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Un=e=>Gl[e||"default"],jn=e=>["",...Ql].includes(e),Jn=e=>({focus:()=>{var l,t;(t=(l=e.value)==null?void 0:l.focus)==null||t.call(l)}}),X=new Map;let Pl;Dl&&(document.addEventListener("mousedown",e=>Pl=e),document.addEventListener("mouseup",e=>{for(const l of X.values())for(const{documentHandler:t}of l)t(e,Pl)}));function $l(e,l){let t=[];return Array.isArray(l.arg)?t=l.arg:kl(l.arg)&&t.push(l.arg),function(s,c){const a=l.instance.popperRef,r=s.target,u=c==null?void 0:c.target,m=!l||!l.instance,b=!r||!u,f=e.contains(r)||e.contains(u),y=e===r,g=t.length&&t.some(o=>o==null?void 0:o.contains(r))||t.length&&t.includes(u),C=a&&(a.contains(r)||a.contains(u));m||b||f||y||g||C||l.value(s,c)}}const Zn={beforeMount(e,l){X.has(e)||X.set(e,[]),X.get(e).push({documentHandler:$l(e,l),bindingFn:l.value})},updated(e,l){X.has(e)||X.set(e,[]);const t=X.get(e),s=t.findIndex(a=>a.bindingFn===l.oldValue),c={documentHandler:$l(e,l),bindingFn:l.value};s>=0?t.splice(s,1,c):t.push(c)},unmounted(e){X.delete(e)}},Kl="ElSelectGroup",De="ElSelect";function Xn(e,l){const t=Ee(De),s=Ee(Kl,{disabled:!1}),c=O(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),a=O(()=>t.props.multiple?y(t.props.modelValue,e.value):g(e.value,t.props.modelValue)),r=O(()=>{if(t.props.multiple){const p=t.props.modelValue||[];return!a.value&&p.length>=t.props.multipleLimit&&t.props.multipleLimit>0}else return!1}),u=O(()=>e.label||(c.value?"":e.value)),m=O(()=>e.value||e.label||""),b=O(()=>e.disabled||l.groupDisabled||r.value),f=al(),y=(p=[],h)=>{if(c.value){const S=t.props.valueKey;return p&&p.some(L=>Ie(q(L,S))===q(h,S))}else return p&&p.includes(h)},g=(p,h)=>{if(c.value){const{valueKey:S}=t.props;return q(p,S)===q(h,S)}else return p===h},C=()=>{!e.disabled&&!s.disabled&&(t.hoverIndex=t.optionsArray.indexOf(f.proxy))};F(()=>u.value,()=>{!e.created&&!t.props.remote&&t.setSelected()}),F(()=>e.value,(p,h)=>{const{remote:S,valueKey:L}=t.props;if(Object.is(p,h)||(t.onOptionDestroy(h,f.proxy),t.onOptionCreate(f.proxy)),!e.created&&!S){if(L&&typeof p=="object"&&typeof h=="object"&&p[L]===h[L])return;t.setSelected()}}),F(()=>s.disabled,()=>{l.groupDisabled=s.disabled},{immediate:!0});const{queryChange:o}=Ie(t);return F(o,p=>{const{query:h}=ol(p),S=new RegExp(kn(h),"i");l.visible=S.test(u.value)||e.created,l.visible||t.filteredOptionsCount--}),{select:t,currentLabel:u,currentValue:m,itemSelected:a,isDisabled:b,hoverItem:C}}const Yn=Pe({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const l=re("select"),t=$e({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:s,itemSelected:c,isDisabled:a,select:r,hoverItem:u}=Xn(e,t),{visible:m,hover:b}=rl(t),f=al().proxy;r.onOptionCreate(f),Ul(()=>{const g=f.value,{selected:C}=r,p=(r.props.multiple?C:[C]).some(h=>h.value===f.value);P(()=>{r.cachedOptions.get(g)===f&&!p&&r.cachedOptions.delete(g)}),r.onOptionDestroy(g,f)});function y(){e.disabled!==!0&&t.groupDisabled!==!0&&r.handleOptionSelect(f,!0)}return{ns:l,currentLabel:s,itemSelected:c,isDisabled:a,select:r,hoverItem:u,visible:m,hover:b,selectOptionClick:y,states:t}}});function xn(e,l,t,s,c,a){return ge((w(),M("li",{class:T([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:l[0]||(l[0]=(...r)=>e.hoverItem&&e.hoverItem(...r)),onClick:l[1]||(l[1]=Z((...r)=>e.selectOptionClick&&e.selectOptionClick(...r),["stop"]))},[ae(e.$slots,"default",{},()=>[B("span",null,Y(e.currentLabel),1)])],34)),[[sl,e.visible]])}var cl=Me(Yn,[["render",xn],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const _n=Pe({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Ee(De),l=re("select"),t=O(()=>e.props.popperClass),s=O(()=>e.props.multiple),c=O(()=>e.props.fitInputWidth),a=W("");function r(){var u;a.value=`${(u=e.selectWrapper)==null?void 0:u.offsetWidth}px`}return ul(()=>{r(),Bl(e.selectWrapper,r)}),{ns:l,minWidth:a,popperClass:t,isMultiple:s,isFitInputWidth:c}}});function et(e,l,t,s,c,a){return w(),M("div",{class:T([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:oe({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[ae(e.$slots,"default")],6)}var lt=Me(_n,[["render",et],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function nt(e){const{t:l}=dl();return $e({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:l("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1})}const tt=(e,l,t)=>{const{t:s}=dl(),c=re("select"),a=W(null),r=W(null),u=W(null),m=W(null),b=W(null),f=W(null),y=W(-1),g=gl({query:""}),C=gl(""),{form:o,formItem:p}=jl(),h=O(()=>!e.filterable||e.multiple||!l.visible),S=O(()=>e.disabled||(o==null?void 0:o.disabled)),L=O(()=>{const n=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!S.value&&l.inputHovering&&n}),G=O(()=>e.remote&&e.filterable?"":e.suffixIcon),Q=O(()=>c.is("reverse",G.value&&l.visible)),H=O(()=>e.remote?300:0),se=O(()=>e.loading?e.loadingText||s("el.select.loading"):e.remote&&l.query===""&&l.options.size===0?!1:e.filterable&&l.query&&l.options.size>0&&l.filteredOptionsCount===0?e.noMatchText||s("el.select.noMatch"):l.options.size===0?e.noDataText||s("el.select.noData"):null),I=O(()=>Array.from(l.options.values())),Be=O(()=>Array.from(l.cachedOptions.values())),Re=O(()=>{const n=I.value.filter(i=>!i.created).some(i=>i.currentLabel===l.query);return e.filterable&&e.allowCreate&&l.query!==""&&!n}),ie=Jl(),Ve=O(()=>["small"].includes(ie.value)?"small":"default"),qe=O({get(){return l.visible&&se.value!==!1},set(n){l.visible=n}});F([()=>S.value,()=>ie.value,()=>o==null?void 0:o.size],()=>{P(()=>{z()})}),F(()=>e.placeholder,n=>{l.cachedPlaceHolder=l.currentPlaceholder=n}),F(()=>e.modelValue,(n,i)=>{e.multiple&&(z(),n&&n.length>0||r.value&&l.query!==""?l.currentPlaceholder="":l.currentPlaceholder=l.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(l.query="",k(l.query))),ue(),e.filterable&&!e.multiple&&(l.inputLength=20),!Al(n,i)&&e.validateEvent&&(p==null||p.validate("change").catch(d=>Zl()))},{flush:"post",deep:!0}),F(()=>l.visible,n=>{var i,d,v;n?((d=(i=u.value)==null?void 0:i.updatePopper)==null||d.call(i),e.filterable&&(l.filteredOptionsCount=l.optionsCount,l.query=e.remote?"":l.selectedLabel,e.multiple?(v=r.value)==null||v.focus():l.selectedLabel&&(l.currentPlaceholder=`${l.selectedLabel}`,l.selectedLabel=""),k(l.query),!e.multiple&&!e.remote&&(g.value.query="",pe(g),pe(C)))):(r.value&&r.value.blur(),l.query="",l.previousQuery=null,l.selectedLabel="",l.inputLength=20,l.menuVisibleOnFocus=!1,Fe(),P(()=>{r.value&&r.value.value===""&&l.selected.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)}),e.multiple||(l.selected&&(e.filterable&&e.allowCreate&&l.createdSelected&&l.createdLabel?l.selectedLabel=l.createdLabel:l.selectedLabel=l.selected.currentLabel,e.filterable&&(l.query=l.selectedLabel)),e.filterable&&(l.currentPlaceholder=l.cachedPlaceHolder))),t.emit("visible-change",n)}),F(()=>l.options.entries(),()=>{var n,i,d;if(!Dl)return;(i=(n=u.value)==null?void 0:n.updatePopper)==null||i.call(n),e.multiple&&z();const v=((d=b.value)==null?void 0:d.querySelectorAll("input"))||[];Array.from(v).includes(document.activeElement)||ue(),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&be()},{flush:"post"}),F(()=>l.hoverIndex,n=>{typeof n=="number"&&n>-1&&(y.value=I.value[n]||{}),I.value.forEach(i=>{i.hover=y.value===i})});const z=()=>{e.collapseTags&&!e.filterable||P(()=>{var n,i;if(!a.value)return;const d=a.value.$el.querySelector("input"),v=m.value,E=Un(ie.value||(o==null?void 0:o.size));d.style.height=`${(l.selected.length===0?E:Math.max(v?v.clientHeight+(v.clientHeight>E?6:0):0,E))-2}px`,l.tagInMultiLine=Number.parseFloat(d.style.height)>=E,l.visible&&se.value!==!1&&((i=(n=u.value)==null?void 0:n.updatePopper)==null||i.call(n))})},k=async n=>{if(!(l.previousQuery===n||l.isOnComposition)){if(l.previousQuery===null&&(typeof e.filterMethod=="function"||typeof e.remoteMethod=="function")){l.previousQuery=n;return}l.previousQuery=n,P(()=>{var i,d;l.visible&&((d=(i=u.value)==null?void 0:i.updatePopper)==null||d.call(i))}),l.hoverIndex=-1,e.multiple&&e.filterable&&P(()=>{const i=r.value.value.length*15+20;l.inputLength=e.collapseTags?Math.min(50,i):i,me(),z()}),e.remote&&typeof e.remoteMethod=="function"?(l.hoverIndex=-1,e.remoteMethod(n)):typeof e.filterMethod=="function"?(e.filterMethod(n),pe(C)):(l.filteredOptionsCount=l.optionsCount,g.value.query=n,pe(g),pe(C)),e.defaultFirstOption&&(e.filterable||e.remote)&&l.filteredOptionsCount&&(await P(),be())}},me=()=>{l.currentPlaceholder!==""&&(l.currentPlaceholder=r.value.value?"":l.cachedPlaceHolder)},be=()=>{const n=I.value.filter(v=>v.visible&&!v.disabled&&!v.states.groupDisabled),i=n.find(v=>v.created),d=n[0];l.hoverIndex=de(I.value,i||d)},ue=()=>{var n;if(e.multiple)l.selectedLabel="";else{const d=he(e.modelValue);(n=d.props)!=null&&n.created?(l.createdLabel=d.props.value,l.createdSelected=!0):l.createdSelected=!1,l.selectedLabel=d.currentLabel,l.selected=d,e.filterable&&(l.query=l.selectedLabel);return}const i=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(d=>{i.push(he(d))}),l.selected=i,P(()=>{z()})},he=n=>{let i;const d=ll(n).toLowerCase()==="object",v=ll(n).toLowerCase()==="null",E=ll(n).toLowerCase()==="undefined";for(let N=l.cachedOptions.size-1;N>=0;N--){const D=Be.value[N];if(d?q(D.value,e.valueKey)===q(n,e.valueKey):D.value===n){i={value:n,currentLabel:D.currentLabel,isDisabled:D.isDisabled};break}}if(i)return i;const j=d?n.label:!v&&!E?n:"",J={value:n,currentLabel:j};return e.multiple&&(J.hitState=!1),J},Fe=()=>{setTimeout(()=>{const n=e.valueKey;e.multiple?l.selected.length>0?l.hoverIndex=Math.min.apply(null,l.selected.map(i=>I.value.findIndex(d=>q(d,n)===q(i,n)))):l.hoverIndex=-1:l.hoverIndex=I.value.findIndex(i=>le(i)===le(l.selected))},300)},ze=()=>{var n,i;Ke(),(i=(n=u.value)==null?void 0:n.updatePopper)==null||i.call(n),e.multiple&&!e.filterable&&z()},Ke=()=>{var n;l.inputWidth=(n=a.value)==null?void 0:n.$el.getBoundingClientRect().width},We=()=>{e.filterable&&l.query!==l.selectedLabel&&(l.query=l.selectedLabel,k(l.query))},He=wl(()=>{We()},H.value),Ne=wl(n=>{k(n.target.value)},H.value),_=n=>{Al(e.modelValue,n)||t.emit(Rl,n)},Ge=n=>{if(n.target.value.length<=0&&!ce()){const i=e.modelValue.slice();i.pop(),t.emit(x,i),_(i)}n.target.value.length===1&&e.modelValue.length===0&&(l.currentPlaceholder=l.cachedPlaceHolder)},Qe=(n,i)=>{const d=l.selected.indexOf(i);if(d>-1&&!S.value){const v=e.modelValue.slice();v.splice(d,1),t.emit(x,v),_(v),t.emit("remove-tag",i.value)}n.stopPropagation()},ee=n=>{n.stopPropagation();const i=e.multiple?[]:"";if(typeof i!="string")for(const d of l.selected)d.isDisabled&&i.push(d.value);t.emit(x,i),_(i),l.visible=!1,t.emit("clear")},ye=(n,i)=>{var d;if(e.multiple){const v=(e.modelValue||[]).slice(),E=de(v,n.value);E>-1?v.splice(E,1):(e.multipleLimit<=0||v.length<e.multipleLimit)&&v.push(n.value),t.emit(x,v),_(v),n.created&&(l.query="",k(""),l.inputLength=20),e.filterable&&((d=r.value)==null||d.focus())}else t.emit(x,n.value),_(n.value),l.visible=!1;l.isSilentBlur=i,ke(),!l.visible&&P(()=>{U(n)})},de=(n=[],i)=>{if(!ml(i))return n.indexOf(i);const d=e.valueKey;let v=-1;return n.some((E,j)=>Ie(q(E,d))===q(i,d)?(v=j,!0):!1),v},ke=()=>{l.softFocus=!0;const n=r.value||a.value;n&&(n==null||n.focus())},U=n=>{var i,d,v,E,j;const J=Array.isArray(n)?n[0]:n;let N=null;if(J!=null&&J.value){const D=I.value.filter($=>$.value===J.value);D.length>0&&(N=D[0].$el)}if(u.value&&N){const D=(E=(v=(d=(i=u.value)==null?void 0:i.popperRef)==null?void 0:d.contentRef)==null?void 0:v.querySelector)==null?void 0:E.call(v,`.${c.be("dropdown","wrap")}`);D&&vn(D,N)}(j=f.value)==null||j.handleScroll()},Ue=n=>{l.optionsCount++,l.filteredOptionsCount++,l.options.set(n.value,n),l.cachedOptions.set(n.value,n)},je=(n,i)=>{l.options.get(n)===i&&(l.optionsCount--,l.filteredOptionsCount--,l.options.delete(n))},Je=n=>{n.code!==Xl.backspace&&ce(!1),l.inputLength=r.value.value.length*15+20,z()},ce=n=>{if(!Array.isArray(l.selected))return;const i=l.selected[l.selected.length-1];if(!!i)return n===!0||n===!1?(i.hitState=n,n):(i.hitState=!i.hitState,i.hitState)},fe=n=>{const i=n.target.value;if(n.type==="compositionend")l.isOnComposition=!1,P(()=>k(i));else{const d=i[i.length-1]||"";l.isOnComposition=!dn(d)}},Ce=()=>{P(()=>U(l.selected))},Ze=n=>{l.softFocus?l.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!l.visible&&(l.menuVisibleOnFocus=!0),l.visible=!0),t.emit("focus",n))},Se=()=>{var n;l.visible=!1,(n=a.value)==null||n.blur()},Xe=n=>{P(()=>{l.isSilentBlur?l.isSilentBlur=!1:t.emit("blur",n)}),l.softFocus=!1},Ye=n=>{ee(n)},xe=()=>{l.visible=!1},Oe=n=>{l.visible&&(n.preventDefault(),n.stopPropagation(),l.visible=!1)},we=()=>{var n;S.value||(l.menuVisibleOnFocus?l.menuVisibleOnFocus=!1:l.visible=!l.visible,l.visible&&((n=r.value||a.value)==null||n.focus()))},_e=()=>{l.visible?I.value[l.hoverIndex]&&ye(I.value[l.hoverIndex],void 0):we()},le=n=>ml(n.value)?q(n.value,e.valueKey):n.value,el=O(()=>I.value.filter(n=>n.visible).every(n=>n.disabled)),Te=n=>{if(!l.visible){l.visible=!0;return}if(!(l.options.size===0||l.filteredOptionsCount===0)&&!l.isOnComposition&&!el.value){n==="next"?(l.hoverIndex++,l.hoverIndex===l.options.size&&(l.hoverIndex=0)):n==="prev"&&(l.hoverIndex--,l.hoverIndex<0&&(l.hoverIndex=l.options.size-1));const i=I.value[l.hoverIndex];(i.disabled===!0||i.states.groupDisabled===!0||!i.visible)&&Te(n),P(()=>U(y.value))}};return{optionsArray:I,selectSize:ie,handleResize:ze,debouncedOnInputChange:He,debouncedQueryChange:Ne,deletePrevTag:Ge,deleteTag:Qe,deleteSelected:ee,handleOptionSelect:ye,scrollToOption:U,readonly:h,resetInputHeight:z,showClose:L,iconComponent:G,iconReverse:Q,showNewOption:Re,collapseTagSize:Ve,setSelected:ue,managePlaceholder:me,selectDisabled:S,emptyText:se,toggleLastOptionHitState:ce,resetInputState:Je,handleComposition:fe,onOptionCreate:Ue,onOptionDestroy:je,handleMenuEnter:Ce,handleFocus:Ze,blur:Se,handleBlur:Xe,handleClearClick:Ye,handleClose:xe,handleKeydownEscape:Oe,toggleMenu:we,selectOption:_e,getValueKey:le,navigateOptions:Te,dropMenuVisible:qe,queryChange:g,groupQueryChange:C,reference:a,input:r,tooltipRef:u,tags:m,selectWrapper:b,scrollbar:f}},Ml="ElSelect",it=Pe({name:Ml,componentName:Ml,components:{ElInput:cn,ElSelectMenu:lt,ElOption:cl,ElTag:fn,ElScrollbar:Yl,ElTooltip:xl,ElIcon:_l},directives:{ClickOutside:Zn},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:jn},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},teleported:en.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:[String,Object],default:ln},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:[String,Object],default:nn},tagType:{...pn.type,default:"info"},validateEvent:{type:Boolean,default:!0}},emits:[x,Rl,"remove-tag","clear","visible-change","focus","blur"],setup(e,l){const t=re("select"),s=re("input"),{t:c}=dl(),a=nt(e),{optionsArray:r,selectSize:u,readonly:m,handleResize:b,collapseTagSize:f,debouncedOnInputChange:y,debouncedQueryChange:g,deletePrevTag:C,deleteTag:o,deleteSelected:p,handleOptionSelect:h,scrollToOption:S,setSelected:L,resetInputHeight:G,managePlaceholder:Q,showClose:H,selectDisabled:se,iconComponent:I,iconReverse:Be,showNewOption:Re,emptyText:ie,toggleLastOptionHitState:Ve,resetInputState:qe,handleComposition:z,onOptionCreate:k,onOptionDestroy:me,handleMenuEnter:be,handleFocus:ue,blur:he,handleBlur:Fe,handleClearClick:ze,handleClose:Ke,handleKeydownEscape:We,toggleMenu:He,selectOption:Ne,getValueKey:_,navigateOptions:Ge,dropMenuVisible:Qe,reference:ee,input:ye,tooltipRef:de,tags:ke,selectWrapper:U,scrollbar:Ue,queryChange:je,groupQueryChange:Je}=tt(e,a,l),{focus:ce}=Jn(ee),{inputWidth:fe,selected:Ce,inputLength:Ze,filteredOptionsCount:Se,visible:Xe,softFocus:Ye,selectedLabel:xe,hoverIndex:Oe,query:we,inputHovering:_e,currentPlaceholder:le,menuVisibleOnFocus:el,isOnComposition:Te,isSilentBlur:n,options:i,cachedOptions:d,optionsCount:v,prefixWidth:E,tagInMultiLine:j}=rl(a),J=O(()=>{const $=[t.b()],ne=ol(u);return ne&&$.push(t.m(ne)),e.disabled&&$.push(t.m("disabled")),$}),N=O(()=>({maxWidth:`${ol(fe)-32}px`,width:"100%"}));Vl(De,$e({props:e,options:i,optionsArray:r,cachedOptions:d,optionsCount:v,filteredOptionsCount:Se,hoverIndex:Oe,handleOptionSelect:h,onOptionCreate:k,onOptionDestroy:me,selectWrapper:U,selected:Ce,setSelected:L,queryChange:je,groupQueryChange:Je})),ul(()=>{a.cachedPlaceHolder=le.value=e.placeholder||c("el.select.placeholder"),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(le.value=""),Bl(U,b),e.remote&&e.multiple&&G(),P(()=>{const $=ee.value&&ee.value.$el;if(!!$&&(fe.value=$.getBoundingClientRect().width,l.slots.prefix)){const ne=$.querySelector(`.${s.e("prefix")}`);E.value=Math.max(ne.getBoundingClientRect().width+5,30)}}),L()}),e.multiple&&!Array.isArray(e.modelValue)&&l.emit(x,[]),!e.multiple&&Array.isArray(e.modelValue)&&l.emit(x,"");const D=O(()=>{var $,ne;return(ne=($=de.value)==null?void 0:$.popperRef)==null?void 0:ne.contentRef});return{tagInMultiLine:j,prefixWidth:E,selectSize:u,readonly:m,handleResize:b,collapseTagSize:f,debouncedOnInputChange:y,debouncedQueryChange:g,deletePrevTag:C,deleteTag:o,deleteSelected:p,handleOptionSelect:h,scrollToOption:S,inputWidth:fe,selected:Ce,inputLength:Ze,filteredOptionsCount:Se,visible:Xe,softFocus:Ye,selectedLabel:xe,hoverIndex:Oe,query:we,inputHovering:_e,currentPlaceholder:le,menuVisibleOnFocus:el,isOnComposition:Te,isSilentBlur:n,options:i,resetInputHeight:G,managePlaceholder:Q,showClose:H,selectDisabled:se,iconComponent:I,iconReverse:Be,showNewOption:Re,emptyText:ie,toggleLastOptionHitState:Ve,resetInputState:qe,handleComposition:z,handleMenuEnter:be,handleFocus:ue,blur:he,handleBlur:Fe,handleClearClick:ze,handleClose:Ke,handleKeydownEscape:We,toggleMenu:He,selectOption:Ne,getValueKey:_,navigateOptions:Ge,dropMenuVisible:Qe,focus:ce,reference:ee,input:ye,tooltipRef:de,popperPaneRef:D,tags:ke,selectWrapper:U,scrollbar:Ue,wrapperKls:J,selectTagsStyle:N,nsSelect:t}}}),ot={class:"select-trigger"},at=["disabled","autocomplete"],rt={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function st(e,l,t,s,c,a){const r=te("el-tag"),u=te("el-tooltip"),m=te("el-icon"),b=te("el-input"),f=te("el-option"),y=te("el-scrollbar"),g=te("el-select-menu"),C=tn("click-outside");return ge((w(),M("div",{ref:"selectWrapper",class:T(e.wrapperKls),onClick:l[22]||(l[22]=Z((...o)=>e.toggleMenu&&e.toggleMenu(...o),["stop"]))},[ve(u,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:"bottom-start",teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:A(()=>[B("div",ot,[e.multiple?(w(),M("div",{key:0,ref:"tags",class:T(e.nsSelect.e("tags")),style:oe(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(w(),M("span",{key:0,class:T([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[ve(r,{closable:!e.selectDisabled&&!e.selected[0].isDisabled,size:e.collapseTagSize,hit:e.selected[0].hitState,type:e.tagType,"disable-transitions":"",onClose:l[0]||(l[0]=o=>e.deleteTag(o,e.selected[0]))},{default:A(()=>[B("span",{class:T(e.nsSelect.e("tags-text")),style:oe({maxWidth:e.inputWidth-123+"px"})},Y(e.selected[0].currentLabel),7)]),_:1},8,["closable","size","hit","type"]),e.selected.length>1?(w(),K(r,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:A(()=>[e.collapseTagsTooltip?(w(),K(u,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:A(()=>[B("span",{class:T(e.nsSelect.e("tags-text"))},"+ "+Y(e.selected.length-1),3)]),content:A(()=>[B("div",{class:T(e.nsSelect.e("collapse-tags"))},[(w(!0),M(nl,null,bl(e.selected.slice(1),(o,p)=>(w(),M("div",{key:p,class:T(e.nsSelect.e("collapse-tag"))},[(w(),K(r,{key:e.getValueKey(o),class:"in-tooltip",closable:!e.selectDisabled&&!o.isDisabled,size:e.collapseTagSize,hit:o.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:h=>e.deleteTag(h,o)},{default:A(()=>[B("span",{class:T(e.nsSelect.e("tags-text")),style:oe({maxWidth:e.inputWidth-75+"px"})},Y(o.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(w(),M("span",{key:1,class:T(e.nsSelect.e("tags-text"))},"+ "+Y(e.selected.length-1),3))]),_:1},8,["size","type"])):R("v-if",!0)],2)):R("v-if",!0),R(" <div> "),e.collapseTags?R("v-if",!0):(w(),K(on,{key:1,onAfterLeave:e.resetInputHeight},{default:A(()=>[B("span",{class:T([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(w(!0),M(nl,null,bl(e.selected,o=>(w(),K(r,{key:e.getValueKey(o),closable:!e.selectDisabled&&!o.isDisabled,size:e.collapseTagSize,hit:o.hitState,type:e.tagType,"disable-transitions":"",onClose:p=>e.deleteTag(p,o)},{default:A(()=>[B("span",{class:T(e.nsSelect.e("tags-text")),style:oe({maxWidth:e.inputWidth-75+"px"})},Y(o.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),R(" </div> "),e.filterable?ge((w(),M("input",{key:2,ref:"input","onUpdate:modelValue":l[1]||(l[1]=o=>e.query=o),type:"text",class:T([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:oe({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:l[2]||(l[2]=(...o)=>e.handleFocus&&e.handleFocus(...o)),onBlur:l[3]||(l[3]=(...o)=>e.handleBlur&&e.handleBlur(...o)),onKeyup:l[4]||(l[4]=(...o)=>e.managePlaceholder&&e.managePlaceholder(...o)),onKeydown:[l[5]||(l[5]=(...o)=>e.resetInputState&&e.resetInputState(...o)),l[6]||(l[6]=V(Z(o=>e.navigateOptions("next"),["prevent"]),["down"])),l[7]||(l[7]=V(Z(o=>e.navigateOptions("prev"),["prevent"]),["up"])),l[8]||(l[8]=V((...o)=>e.handleKeydownEscape&&e.handleKeydownEscape(...o),["esc"])),l[9]||(l[9]=V(Z((...o)=>e.selectOption&&e.selectOption(...o),["stop","prevent"]),["enter"])),l[10]||(l[10]=V((...o)=>e.deletePrevTag&&e.deletePrevTag(...o),["delete"])),l[11]||(l[11]=V(o=>e.visible=!1,["tab"]))],onCompositionstart:l[12]||(l[12]=(...o)=>e.handleComposition&&e.handleComposition(...o)),onCompositionupdate:l[13]||(l[13]=(...o)=>e.handleComposition&&e.handleComposition(...o)),onCompositionend:l[14]||(l[14]=(...o)=>e.handleComposition&&e.handleComposition(...o)),onInput:l[15]||(l[15]=(...o)=>e.debouncedQueryChange&&e.debouncedQueryChange(...o))},null,46,at)),[[an,e.query]]):R("v-if",!0)],6)):R("v-if",!0),ve(b,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":l[16]||(l[16]=o=>e.selectedLabel=o),type:"text",placeholder:e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:T([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[l[17]||(l[17]=V(Z(o=>e.navigateOptions("next"),["stop","prevent"]),["down"])),l[18]||(l[18]=V(Z(o=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),V(Z(e.selectOption,["stop","prevent"]),["enter"]),V(e.handleKeydownEscape,["esc"]),l[19]||(l[19]=V(o=>e.visible=!1,["tab"]))],onMouseenter:l[20]||(l[20]=o=>e.inputHovering=!0),onMouseleave:l[21]||(l[21]=o=>e.inputHovering=!1)},rn({suffix:A(()=>[e.iconComponent&&!e.showClose?(w(),K(m,{key:0,class:T([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:A(()=>[(w(),K(hl(e.iconComponent)))]),_:1},8,["class"])):R("v-if",!0),e.showClose&&e.clearIcon?(w(),K(m,{key:1,class:T([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:A(()=>[(w(),K(hl(e.clearIcon)))]),_:1},8,["class","onClick"])):R("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:A(()=>[B("div",rt,[ae(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])])]),content:A(()=>[ve(g,null,{default:A(()=>[ge(ve(y,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:T([e.nsSelect.is("empty",!e.allowCreate&&Boolean(e.query)&&e.filteredOptionsCount===0)])},{default:A(()=>[e.showNewOption?(w(),K(f,{key:0,value:e.query,created:!0},null,8,["value"])):R("v-if",!0),ae(e.$slots,"default")]),_:3},8,["wrap-class","view-class","class"]),[[sl,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(w(),M(nl,{key:0},[e.$slots.empty?ae(e.$slots,"empty",{key:0}):(w(),M("p",{key:1,class:T(e.nsSelect.be("dropdown","empty"))},Y(e.emptyText),3))],64)):R("v-if",!0)]),_:3})]),_:3},8,["visible","teleported","popper-class","effect","transition","persistent","onShow"])],2)),[[C,e.handleClose,e.popperPaneRef]])}var ut=Me(it,[["render",st],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const dt=Pe({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const l=re("select"),t=W(!0),s=al(),c=W([]);Vl(Kl,$e({...rl(e)}));const a=Ee(De);ul(()=>{c.value=r(s.subTree)});const r=m=>{const b=[];return Array.isArray(m.children)&&m.children.forEach(f=>{var y;f.type&&f.type.name==="ElOption"&&f.component&&f.component.proxy?b.push(f.component.proxy):(y=f.children)!=null&&y.length&&b.push(...r(f))}),b},{groupQueryChange:u}=Ie(a);return F(u,()=>{t.value=c.value.some(m=>m.visible===!0)}),{visible:t,ns:l}}});function ct(e,l,t,s,c,a){return ge((w(),M("ul",{class:T(e.ns.be("group","wrap"))},[B("li",{class:T(e.ns.be("group","title"))},Y(e.label),3),B("li",null,[B("ul",{class:T(e.ns.b("group"))},[ae(e.$slots,"default")],2)])],2)),[[sl,e.visible]])}var Wl=Me(dt,[["render",ct],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const mt=sn(ut,{Option:cl,OptionGroup:Wl}),bt=ql(cl);ql(Wl);export{Zn as C,bt as E,mt as a,Al as b,jn as i};
